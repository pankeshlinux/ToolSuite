regions :
	Center : String ;
	Floor :  String;
	Room : String;

structs:
	BadgeDetectedStruct
		badgeID : String;
		timeStamp : long;	
        
	BadgeDisappearedStruct
		badgeID : String;
		timeStamp : long;
        
	TempStruct
		tempValue : double;
		unitOfMeasurement : String; 

	UserProfileStruct
		badgeID : String ;
		tempPref : double;
	
	UserTempPrefStruct
		tempValue : double;
		unitOfMeasurement : String; 
		timeStamp : long;	
        
abilities:
	sensors:
		BadgeReader			
			generate badgeDetected : BadgeDetectedStruct;
			generate badgeDisappeared : BadgeDisappearedStruct;
		TemperatureSensor			
			generate  tempMeasurement : TempStruct;
	
	actuators:
		Heater			
			action On();
			action Off();
			action SetTemp(setTemp: TempStruct);
					
		Monitor			
			action Display(displayTemp : TempStruct);
			 
softwarecomponents:
    storageService
  		ProfileDB			
			generate profile : TempStruct accessed-by badgeID : String;
			deployment-instance : singleton;

    computationalService
		RoomAvgTemp			
			generate roomAvgTempMeasurement :TempStruct;
		    consume tempMeasurement from region-hops:0: Room;
		    partition-per : Room ;
		    
		FloorAvgTemp			
			generate floorAvgTempMeasurement : TempStruct;
			consume roomAvgTempMeasurement from region-hops : 0 : Room;
			partition-per :  Floor;
		
		CenterAvgTemp			
			generate centerAvgTempMeasurement : TempStruct;
			consume floorAvgTempMeasurement from region-hops : 0 : Room;
			partition-per : Center;	
	
		Proximity			
			generate tempPref : UserTempPrefStruct;
			consume badgeDetected from region-hops : 0 : Room;
			consume badgeDisappeared from region-hops : 0 : Room;
			request profile;			
			partition-per : Room;
			
	controller
		RegulateTemp			
			consume roomAvgTempMeasurement from region-hops : 0 : Room;
			consume tempPref from region-hops : 0: Room;
			command On() to region-hops:0:Room;
			command Off() to region-hops:0:Room;
			command SetTemp(setTemp) to region-hops:0:Room;
			partition-per : Room;
		
		ManageTemp			
			consume centerAvgTempMeasurement from region-hops:0:Center;
			command Display(displayTemp) to region-hops:0:Center;
			partition-per : Center;